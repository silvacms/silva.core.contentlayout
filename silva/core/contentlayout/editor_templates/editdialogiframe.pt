<html>
<head
 tal:define="resource_url request/resourcebase/absolute_url">
<base tal:attributes="href string:${context/absolute_url}/edit" />
<tal:rep replace="structure string:<script type='text/javascript'>" />
var objurl = '<span tal:replace="python:context.get_editable().absolute_url()" />/edit';
var containerurl = '<span tal:replace="python:context.get_container().absolute_url() + '/'" />';
<tal:rep replace="structure string:</script>" />
<script type="text/javascript" 
    tal:attributes="src string:${resource_url}/++resource++Products.Silva.browser.scripts/reference.js"></script>
<!--
<script type="text/javascript"
 tal:attributes="src string:${resource_url}/edit/helperscripts.js"></script>
-->
<script type="text/javascript" tal:attributes="src string:${resource_url}/globals/tinymce/jscripts/tiny_mce/tiny_mce.js"></script>
<tal:replace replace="structure provider:resources" />

<link rel="stylesheet" type="text/css"
    tal:attributes="href string:${resource_url}/++resource++silva.core.contentlayout.browser.resources/smi.css" />

<script type="text/javascript">
function cleanupTinyMCE(remove) {
    /* cleans up any tiny mce fields in the edit form.
        First the editors are saved.
        If `remove` is true, they are also removed from the global
        tinymce object */
    tinymce.each(tinymce.editors, 
        function(e) {
            e.save();
            if (remove) {
                tinymce.remove(e);
            }
    },
    this /* the scope to run the callback in */
    );
};
</script>

</head>
<body id="editiframebody" style="visibility: hidden; overflow: hidden;">
<tal:block replace="structure view/render_dialog" />
</body>
</html>
